<h1>User Details</h1>

<p><strong>ID:</strong> <%= @user.id %></p>
<p><strong>Full Name:</strong> <%= @user.first_name %> <%= @user.last_name %></p>
<p><strong>Email:</strong> <%= @user.email %></p>

<h2>User Chats</h2>
<ul>
  <% @user.chats.each do |chat| %>
    <li>
      <%= link_to "Chat between #{chat.sender.first_name} and #{chat.receiver.first_name}", chat_path(chat) %>
    </li>
  <% end %>
</ul>


<h2>Sent Messages</h2>
<ul>
  <% @user.messages.each do |msg| %>
    <% receiver = msg.chat.receiver == @user ? msg.chat.sender : msg.chat.receiver %>
    <li>
      "<%= msg.body %>" â†’ for <%= receiver.first_name %> <%= receiver.last_name %>
    </li>
  <% end %>
</ul>


<%= link_to "Edit User", edit_user_path(@user) %>

<%= link_to 'Back to Users', users_path %>
